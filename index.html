<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 1. Creamos el array donde se guardarán los movimientos
let movimientos = [];

// 2. Función para registrar un movimiento
function registrarMovimiento() {
  let nombre = prompt("Nombre del movimiento:");
  
  // Validación: nombre no puede estar vacío
  while (nombre.trim() === "") {
    console.log("❌ El nombre no puede estar vacío.");
    nombre = prompt("Nombre del movimiento:");
  }

  let tipo = prompt("Tipo (Ingreso / Egreso):");
  tipo = tipo.toLowerCase(); // Lo convertimos a minúsculas para facilitar la comparación

  // Validamos que sea "ingreso" o "egreso"
  while (tipo !== "ingreso" && tipo !== "egreso") {
    console.log("❌ Tipo inválido. Debe ser 'Ingreso' o 'Egreso'.");
    tipo = prompt("Tipo (Ingreso / Egreso):").toLowerCase();
  }

  let monto = parseFloat(prompt("Monto:"));

  // Validación: monto debe ser mayor a 0 y ser un número
  while (isNaN(monto) || monto <= 0) {
    console.log("❌ Monto inválido. Debe ser un número mayor a 0.");
    monto = parseFloat(prompt("Monto:"));
  }

  // Si todo es válido, lo guardamos en el array
  movimientos.push({
    nombre: nombre,
    tipo: tipo,
    monto: monto
  });
}

// 3. Función para calcular el saldo total
function calcularTotalSaldo() {
  let total = 0;

  for (let i = 0; i < movimientos.length; i++) {
    if (movimientos[i].tipo === "ingreso") {
      total += movimientos[i].monto;
    } else {
      total -= movimientos[i].monto;
    }
  }

  return total;
}

// 4. Función para mostrar el resumen
function mostrarResumen() {
  console.log("\nResumen Final");
  console.log("-------------------");
  console.log("Total de movimientos registrados: " + movimientos.length);
  let saldo = calcularTotalSaldo();
  console.log("Saldo total: $" + saldo.toFixed(2));

  // Totales por tipo
  let totalIngresos = 0;
  let totalEgresos = 0;

  for (let i = 0; i < movimientos.length; i++) {
    if (movimientos[i].tipo === "ingreso") {
      totalIngresos += movimientos[i].monto;
    } else {
      totalEgresos += movimientos[i].monto;
    }
  }

  console.log("\nDesglose por tipo:");
  if (totalEgresos > 0) console.log("- Egresos: $" + totalEgresos.toFixed(2));
  if (totalIngresos > 0) console.log("- Ingresos: $" + totalIngresos.toFixed(2));
}

// 5. Bucle principal para registrar movimientos
console.log("Registro de Gastos");
console.log("-------------------");

let continuar = "si";

while (continuar.toLowerCase() === "si") {
  registrarMovimiento(); // llamamos la función para registrar

  continuar = prompt("¿Registrar otro movimiento? (si/no):");
}

mostrarResumen(); // cuando el usuario dice "no", mostramos el resumen
    </script>
</body>
</html>